(this.webpackJsonpflashkart_mern_frontend=this.webpackJsonpflashkart_mern_frontend||[]).push([[0],{16:function(e,t,a){},18:function(e,t,a){},31:function(e,t,a){},34:function(e,t,a){e.exports=a(64)},40:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(32),o=a.n(r),s=a(5),l=a(3),u=a.n(l),m=a(4),i=a(1),p=(a(40),a(13),a(9)),d=a(2);var b=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),c=0;c<a.length;c++){var n=a[c].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}return t},f="http://127.0.0.1:3001";function E(e){return n.a.createElement("ul",{className:"sub-category"},e.subcatlist.map((function(e,t){return 0!==t?n.a.createElement("li",{key:t},n.a.createElement(d.b,{to:"/sub_category_react/".concat(e)},e)):""})),n.a.createElement("li",null,n.a.createElement(d.b,{to:"/category_react/".concat(e.category)},"View All")))}var v=n.a.forwardRef((function(e,t){var a=Object(c.useState)(""),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(c.useState)(!1),p=Object(i.a)(l,2),v=(p[0],p[1]),g=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(f,"/logout"),a={method:"post",headers:{Accept:"application/json",Authorization:"".concat(b("token"))}},e.next=5,fetch(t,a);case 5:return c=e.sent,e.next=8,c.json();case 8:e.sent.tokenloggedout&&(document.cookie="token=",v((function(e){return!e}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("ul",null,n.a.createElement("li",{key:"0"},n.a.createElement(d.b,{className:"menu-links",to:"/"},"Home")),b("token")?n.a.createElement("li",{key:"1"},n.a.createElement(d.b,{className:"menu-links",to:"/",onClick:g},"logout")):n.a.createElement("li",{key:"1"},n.a.createElement(d.b,{className:"menu-links",to:"/register_react"},"Sign Up")),n.a.createElement("li",{key:"2"},"All Categories"),Object.entries(e.categoryapi).map((function(e,t){var a=Object(i.a)(e,2),c=a[0],r=a[1];return n.a.createElement("li",{key:t+3,className:"category",onClick:function(e){return function(e){s((function(t){return t===e?"":e}))}(c)}},c.slice(0,40),o===c&&n.a.createElement(E,{subcatlist:r,category:c}))})))}));var g=n.a.memo((function(e){var t=e.categoryapi,a=e.cartvalue,r=window.matchMedia("(max-width: 650px)"),o=Object(c.useState)({searchvalue:""}),l=Object(i.a)(o,2),u=l[0],m=l[1],b=Object(c.useState)(r.matches),f=Object(i.a)(b,2),E=f[0],g=f[1],h=Object(c.useState)(!0),j=Object(i.a)(h,2),y=j[0],O=j[1],N=Object(s.f)();return Object(c.useEffect)((function(){}),[t,a,y,E]),n.a.createElement("header",null,n.a.createElement("div",{className:"menu-wrap"},n.a.createElement("input",{type:"checkbox",className:"toggler"}),n.a.createElement("div",{className:"hamburger"},n.a.createElement("div",null)),n.a.createElement("div",{className:"menu"},n.a.createElement(v,{categoryapi:t}))),y&&n.a.createElement("h1",{className:"comp-name"},"Flashkart"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y&&E?(O(!1),g((function(e){return!e}))):N.push({pathname:"/search_react",search:u.searchvalue,searchvalue:u.searchvalue})},className:"product-search"},!E&&n.a.createElement("input",{className:"search-text",type:"text",name:"searchvalue",id:"",placeholder:"Search",value:u.searchvalue,onChange:function(e){var t=e.target.name,a=e.target.value;m((function(e){return Object(p.a)({},t,a)}))}}),n.a.createElement("div",{className:"search-btn"},n.a.createElement(d.b,{to:"/",className:"search-symbol"},"\u26b2"),n.a.createElement("input",{className:"search-symbol-hide",type:"submit",value:"\u26b2"}))),n.a.createElement(d.b,{className:"cart",to:"/cart_react"},n.a.createElement("span",null,"Cart(",n.a.createElement("span",{className:"cart-value"},a),")")))}));function h(e){return e.products.map((function(e,t){return n.a.createElement("div",{key:t,className:"cards"},n.a.createElement("div",{className:"cards-image"},n.a.createElement("img",{src:"".concat(f,"/product/").concat(e._id,"/image"),alt:"".concat(e.name)})),n.a.createElement("div",{className:"product-spec"},n.a.createElement("span",{className:"product-name"},"".concat(e.name).slice(0,35),"..."),n.a.createElement("span",{className:"product-price"},"$ ",e.discountedprice)),n.a.createElement(d.b,{to:"/product_react/".concat(e._id),className:"product_view"},n.a.createElement("span",null,"Product View")))}))}var j=n.a.memo((function(e){var t=e.products,a=n.a.createRef();return n.a.createElement("div",{className:"container-cards-slides"},n.a.createElement("div",{className:"container-cards",ref:a},t&&n.a.createElement(h,{products:t})),n.a.createElement("div",{className:"prev",onClick:function(e){a.current.scrollBy(-window.innerWidth/1.3,0)}},"\u2039"),n.a.createElement("div",{className:"next",onClick:function(e){a.current.scrollBy(window.innerWidth/1.3,0)}},"\u203a"))}));function y(e){var t=e.categoryapi,a=e.start;return n.a.createElement("div",{className:"box-container"},Object.entries(t).map((function(e,t){var c=Object(i.a)(e,2),r=c[0],o=c[1];return t>=a&&t<a+9&&n.a.createElement(d.b,{className:"cat-link",key:t,to:"category_react/".concat(r)},n.a.createElement("div",{className:"boxes"},n.a.createElement("div",{className:"cat-img"},n.a.createElement("img",{src:"".concat(f,"/product/").concat(o[0]._id,"/image"),alt:"".concat(r)})),n.a.createElement("div",{className:"cat-prod"},n.a.createElement("span",null,r))))})))}var O=n.a.memo((function(e){var t=e.categoryapi;return Object(c.useEffect)((function(){return function(){}}),[]),n.a.createElement("div",{className:"boxes-container"},n.a.createElement(y,{categoryapi:t,start:0}),n.a.createElement(y,{categoryapi:t,start:9}))}));var N=n.a.memo((function(){return n.a.createElement("footer",null,n.a.createElement("div",{className:"foot-links"},n.a.createElement(d.b,{to:"/about_react"},"About"),n.a.createElement(d.b,{to:"/contactus_react"},"ContactUS")),n.a.createElement("span",null,"\xa9 2020-2020 Flashkart Inc"))}));var k=n.a.memo((function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)(""),s=Object(i.a)(o,2),l=s[0],p=s[1],d=Object(c.useState)(0),E=Object(i.a)(d,2),v=E[0],h=E[1];return Object(c.useEffect)((function(){b("csrftoken");(function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(f,"/products_index_page"),a={method:"get",headers:{Accept:"application/json",Authorization:"".concat(b("token"))}},e.next=5,fetch(t,a);case 5:return c=e.sent,e.next=8,c.json();case 8:(n=e.sent).products&&(r(n.products),p(n.categoryWithSubCategory),h((function(e){return n.cartvalue?n.cartvalue:e}))),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{categoryapi:l,cartvalue:v}),a&&n.a.createElement(j,{products:a.slice(0,22)}),a&&n.a.createElement(O,{categoryapi:l}),a&&n.a.createElement(j,{products:a.slice(22,45)}),n.a.createElement(N,null))}));a(63);var x=n.a.memo((function(e){var t=e.match,a=Object(c.useState)({}),r=Object(i.a)(a,2),o=r[0],l=r[1],p=Object(c.useState)(""),E=Object(i.a)(p,2),v=E[0],h=E[1],y=Object(c.useState)(0),O=Object(i.a)(y,2),k=O[0],x=O[1],_=Object(c.useState)([]),w=Object(i.a)(_,2),S=w[0],C=w[1],F=Object(s.f)();Object(c.useEffect)((function(){b("csrftoken"),function(){var e=Object(m.a)(u.a.mark((function e(){var a,c,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(f,"/productview/").concat(t.params.id),e.prev=1,c={method:"get",headers:{Accept:"application/json",Authorization:"".concat(b("token"))}},e.next=5,fetch(a,c);case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent).product&&(l(r.product),h(r.categoryWithSubCategory),C(r.categoryproducts),x((function(e){return r.cartvalue?r.cartvalue:e}))),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}()();return function(){}}),[t.params.id]);var A=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,c,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b("token")){e.next=19;break}return a="".concat(f,"/cart_add_remove"),c={action:"add",product_id:t.target.name},e.prev=3,n={method:"post",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"".concat(b("token"))}},e.next=7,fetch(a,n);case 7:return r=e.sent,e.next=10,r.json();case 10:(o=e.sent).cartvalue&&x((function(e){return o.cartvalue?o.cartvalue:e})),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return");case 17:e.next=21;break;case 19:return F.push("/register_react"),e.abrupt("return");case 21:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{categoryapi:v,cartvalue:k}),o&&n.a.createElement("ul",{className:"breadcrumb"},n.a.createElement("li",{key:"0"},n.a.createElement(d.b,{to:"/"},"Home")),n.a.createElement("li",{key:"1"},n.a.createElement(d.b,{to:"/category_react/".concat(o.category)},o.category)),n.a.createElement("li",{key:"2"},n.a.createElement(d.b,{to:"/sub_category_react/".concat(o.subcategory)},o.subcategory)),n.a.createElement("li",{key:"3"},o.name)),o&&n.a.createElement("section",{className:"product-container"},n.a.createElement("div",{className:"product-image"},n.a.createElement("img",{src:"http://127.0.0.1:3001/product/".concat(t.params.id,"/image"),alt:"".concat(o.name)})),n.a.createElement("div",{className:"product-details"},n.a.createElement("span",{className:"product-name"},o.name),n.a.createElement("span",{className:"product-regularprice"},"$ ",o.discountedprice),n.a.createElement("span",{className:"product-discountedprice"},n.a.createElement("s",null,"$ ",o.regularprice)),n.a.createElement("span",{className:"btn"},n.a.createElement("button",{className:"btn-cart",name:o._id,onClick:A},"Add To Cart")))),S&&n.a.createElement(j,{products:S}),n.a.createElement(N,null))})),_=a(7);function w(e,t,a){var c=new Date;c.setTime(c.getTime()+24*a*60*60*1e3);var n="expires="+c.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}var S=n.a.memo((function(){var e=Object(c.useState)({username:"",password:""}),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(s.f)(),l=Object(c.useState)(!1),b=Object(i.a)(l,2),E=b[0],v=b[1];Object(c.useEffect)((function(){return function(){}}),[]);var g=function(e){var t=e.target.name,a=e.target.value;r((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(p.a)({},t,a))}))},h=function(){var e=Object(m.a)(u.a.mark((function e(t){var c,n,r,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c="".concat(f,"/login"),n=a,r={method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Accept:"application/json"}},e.prev=4,e.next=7,fetch(c,r);case 7:return s=e.sent,e.next=10,s.json();case 10:(l=e.sent).token?(w("token",l.token,300),o.push("/")):v(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("section",{className:"main-form"},n.a.createElement("div",{className:"form-area"},"Flashkart Login",n.a.createElement("form",{onSubmit:h,className:"form-comp"},n.a.createElement("div",{className:"field"},"Email",n.a.createElement("input",{type:"email",name:"username",autoFocus:"",className:"form-fields",required:"",id:"id_username",onChange:g,value:a.username})),n.a.createElement("div",{className:"field"},"Password \xa0",n.a.createElement("input",{type:"password",name:"password",autoComplete:"new-password",className:"form-fields",required:"",id:"id_password1",onChange:g,value:a.password})),n.a.createElement("div",{className:"btn-area"},n.a.createElement("input",{className:"btn",type:"submit",name:"Create User"}),n.a.createElement("input",{className:"btn",type:"reset",name:"Create User",onClick:function(e){r((function(e){return{name:"",email:"",comment:""}}))}}))),E&&n.a.createElement("p",{className:"error"},"email and password donot match"),n.a.createElement("div",{className:"links"},n.a.createElement(d.b,{to:"/"},"home"),n.a.createElement(d.b,{to:"/register_react"},"Register"))))}));a(16);var C=n.a.memo((function(){var e=Object(c.useState)({username:"",password1:"",password2:""}),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(s.f)(),l=Object(c.useState)(!1),E=Object(i.a)(l,2),v=E[0],g=E[1],h=Object(c.useState)(!1),j=Object(i.a)(h,2),y=j[0],O=j[1];Object(c.useEffect)((function(){return function(){}}),[]);var N=function(e){var t=e.target.name,a=e.target.value;r((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(p.a)({},t,a))}))},k=function(){var e=Object(m.a)(u.a.mark((function e(t){var c,n,s,l,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===a.password1||a.password1!==a.password2){e.next=22;break}return b("csrftoken"),c="".concat(f,"/register"),n={username:a.username,password:a.password1},s={method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Accept:"application/json"}},e.prev=6,e.next=9,fetch(c,s);case 9:return l=e.sent,e.next=12,l.json();case 12:m=e.sent,console.log(m),m.username?o.push("/login_react"):(O(!0),g(!1)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:e.next=24;break;case 22:g(!0),r((function(e){return Object(_.a)(Object(_.a)({},e),{},{password1:"",password2:""})}));case 24:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("section",{className:"main-form"},n.a.createElement("div",{className:"form-area"},"Flashkart Register",n.a.createElement("form",{onSubmit:k,className:"form-comp"},n.a.createElement("div",{className:"field"},"Email",n.a.createElement("input",{type:"email",name:"username",autoFocus:"",className:"form-fields",required:!0,id:"id_username",onChange:N,value:a.username})),n.a.createElement("div",{className:"field"},"Password",n.a.createElement("input",{type:"password",name:"password1",autoComplete:"new-password",className:"form-fields",required:!0,id:"id_password1",onChange:N,value:a.password1})),n.a.createElement("div",{className:"field"},"Password confirmation\xa0",n.a.createElement("input",{type:"password",name:"password2",autoComplete:"new-password",className:"form-fields",required:!0,id:"id_password2",onChange:N,value:a.password2})),n.a.createElement("div",{className:"btn-area"},n.a.createElement("input",{className:"btn",type:"submit",name:"Create User"}),n.a.createElement("input",{className:"btn",type:"reset",name:"Create User",onClick:function(e){r((function(e){return{username:"",password1:"",password2:""}}))}}))),v&&n.a.createElement("p",{className:"error"},"Password donot match"),y&&n.a.createElement("p",{className:"error"},"email already exist! Please enter other email"),n.a.createElement("div",{className:"links"},n.a.createElement(d.b,{to:"/"},"home"),n.a.createElement(d.b,{to:"/login_react"},"login"))))}));a(18);var F=n.a.memo((function(e){var t=e.prevurl,a=e.nexturl,c=e.pageno,r=e.clickfunc;return n.a.createElement("div",{className:"pagination"},n.a.createElement("span",{className:"step-links"},t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"prev"},n.a.createElement("button",{className:"prev-link",onClick:function(){return r(t)}},"\u2039")),n.a.createElement("span",{className:"prev-page"},c-1)),n.a.createElement("span",{className:"current"},c),a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"next-page"},c+1),n.a.createElement("span",{className:"next"},n.a.createElement("button",{className:"next-link",onClick:function(){return r(a)}},"\u203a")))))}));var A=n.a.memo((function(e){var t=e.productapi,a=new Date,r=Object(c.useState)({date:a.getDate()+10,month:["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]}),o=Object(i.a)(r,2),s=o[0];return o[1],n.a.createElement("section",{className:"main-category"},n.a.createElement("ul",{className:"products-list"},t&&t.map((function(e,t){return n.a.createElement("li",{key:e._id,className:"product"},n.a.createElement("div",{className:"image"},n.a.createElement("img",{src:"".concat(f,"/product/").concat(e._id,"/image"),alt:"".concat(e.name)})),n.a.createElement(d.b,{to:"/product_react/".concat(e._id),className:"product-view"},n.a.createElement("span",{className:"product-name"},e.name),n.a.createElement("span",{className:"product-regularprice"},"$ ",e.discountedprice),n.a.createElement("span",{className:"product-discountedprice"},n.a.createElement("s",null,"$ ",e.regularprice)),n.a.createElement("span",{className:"delivery-date"},"Get it by ",s.month,",",s.date," ",n.a.createElement("br",null),"FREE Delivery by Flashkart")))}))))}));var q=n.a.memo((function(e){var t=e.match,a=Object(c.useState)(1),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(c.useState)("".concat(f,"/category/").concat(t.params.category_name,"?limit=10&skip=0")),p=Object(i.a)(l,2),E=p[0],v=p[1],h=Object(c.useState)(""),j=Object(i.a)(h,2),y=j[0],O=j[1],k=Object(c.useState)(""),x=Object(i.a)(k,2),_=x[0],w=x[1],S=Object(c.useState)([]),C=Object(i.a)(S,2),q=C[0],D=C[1],T=Object(c.useState)({}),U=Object(i.a)(T,2),P=U[0],W=U[1],z=Object(c.useState)(0),J=Object(i.a)(z,2),H=J[0],R=J[1],$=Object(c.useState)(t.params.category_name),B=Object(i.a)($,2),M=B[0],I=B[1];Object(c.useEffect)((function(){b("csrftoken");return function(){var e=Object(m.a)(u.a.mark((function e(){var a,c,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E,e.prev=1,c={method:"get",headers:{Accept:"application/json",Authorization:"".concat(b("token"))}},M===t.params.category_name){e.next=10;break}return console.log(M,t.params.category_name),v("".concat(f,"/category/").concat(t.params.category_name,"?limit=10&skip=0")),I(t.params.category_name),(n=document.getElementsByClassName("toggler")).length>0&&(n[0].checked=!1),e.abrupt("return");case 10:return e.next=12,fetch(a,c);case 12:return r=e.sent,e.next=15,r.json();case 15:(o=e.sent).products&&(D(o.products),W(o.categoryWithSubCategory),s(o.pageno),w((function(e){return o.nextskip?"".concat(f,"/category/").concat(t.params.category_name,"?limit=10&skip=").concat(o.nextskip):null})),O((function(e){return o.prevskip||0==o.prevskip?"".concat(f,"/category/").concat(t.params.category_name,"?limit=10&skip=").concat(o.prevskip):null})),R((function(e){return o.cartvalue?o.cartvalue:e}))),e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(1),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[t.params.category_name,E]);try{q[0].category}catch(G){return null}return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{categoryapi:P,cartvalue:H}),q&&n.a.createElement("ul",{className:"breadcrumb"},n.a.createElement("li",{key:"0"},n.a.createElement(d.b,{to:"/"},"Home")),n.a.createElement("li",{key:"1"},q[0].category)),n.a.createElement(A,{productapi:q}),n.a.createElement(N,null),n.a.createElement(F,{prevurl:y,nexturl:_,pageno:o,clickfunc:function(e){v(e)}}))}));var D=n.a.memo((function(e){var t=e.match,a=Object(c.useState)(1),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(c.useState)("".concat(f,"/subcategory/").concat(t.params.category_name)),p=Object(i.a)(l,2),E=p[0],v=p[1],h=Object(c.useState)(""),j=Object(i.a)(h,2),y=j[0],O=j[1],k=Object(c.useState)(""),x=Object(i.a)(k,2),_=x[0],w=x[1],S=Object(c.useState)([]),C=Object(i.a)(S,2),q=C[0],D=C[1],T=Object(c.useState)({}),U=Object(i.a)(T,2),P=U[0],W=U[1],z=Object(c.useState)(0),J=Object(i.a)(z,2),H=J[0],R=J[1],$=Object(c.useState)(t.params.category_name),B=Object(i.a)($,2),M=B[0],I=B[1];Object(c.useEffect)((function(){b("csrftoken");return function(){var e=Object(m.a)(u.a.mark((function e(){var a,c,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E,e.prev=1,c={method:"get",headers:{Accept:"application/json",Authorization:"".concat(b("token"))}},M===t.params.category_name){e.next=9;break}return v("".concat(f,"/subcategory/").concat(t.params.category_name,"?limit=10&skip=0")),I(t.params.category_name),(n=document.getElementsByClassName("toggler")).length>0&&(n[0].checked=!1),e.abrupt("return");case 9:return e.next=11,fetch(a,c);case 11:return r=e.sent,e.next=14,r.json();case 14:(o=e.sent).products&&(D(o.products),W(o.categoryWithSubCategory),s(o.pageno),w((function(e){return o.nextskip?"".concat(f,"/subcategory/").concat(t.params.category_name,"?limit=10&skip=").concat(o.nextskip):null})),O((function(e){return o.prevskip||0==o.prevskip?"".concat(f,"/subcategory/").concat(t.params.category_name,"?limit=10&skip=").concat(o.prevskip):null})),R((function(e){return o.cartvalue?o.cartvalue:e}))),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return");case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[t.params.category_name,E]);try{q[0].category}catch(G){return null}return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{categoryapi:P,cartvalue:H}),q&&n.a.createElement("ul",{className:"breadcrumb"},n.a.createElement("li",{key:"0"},n.a.createElement(d.b,{to:"/"},"Home")),n.a.createElement("li",{key:"1"},n.a.createElement(d.b,{to:"/category_react/".concat(q[0].category)},q[0].category)),n.a.createElement("li",{key:"2"},t.params.category_name)),n.a.createElement(A,{productapi:q}),n.a.createElement(F,{prevurl:y,nexturl:_,pageno:o,clickfunc:function(e){v(e)}}),n.a.createElement(N,null))}));a(31);function T(e){var t=e.cartproducts,a=e.setcartvalue,r=Object(c.useState)("0"),o=Object(i.a)(r,2),l=o[0],p=o[1],E=Object(c.useState)([]),v=Object(i.a)(E,2),g=v[0],h=v[1],j=Object(s.f)();Object(c.useEffect)((function(){b("token")||j.push("/register_react");var e=0;h((function(a){return t.forEach((function(t){e+=parseFloat(t.discountedprice)})),t})),p(e.toFixed(2))}),[t]);var y=function(){var e=Object(m.a)(u.a.mark((function e(t){var c,n,r,o,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b("csrftoken"),c="".concat(f,"/cart_add_remove"),n="removeall"===t.target.name?{action:t.target.name,product_id:g.map((function(e){return e._id}))}:{action:t.target.name,product_id:t.target.id},e.prev=3,r={method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"".concat(b("token"))}},e.next=7,fetch(c,r);case 7:return o=e.sent,e.next=10,o.json();case 10:(s=e.sent).cart&&(h(s.cart),a(s.cartvalue),l=0,s.cart.forEach((function(e){l+=parseFloat(e.discountedprice)})),p(l.toFixed(2))),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("ul",{className:"cart-products"},g&&g.map((function(e,t){return n.a.createElement("li",{key:"".concat(e._id,"+").concat(t),className:"product-spec",id:e.id},n.a.createElement(d.b,{to:"/product_react/".concat(e._id)},n.a.createElement("div",{className:"product-name"},n.a.createElement("div",{className:"product-img"},n.a.createElement("img",{src:"".concat(f,"/product/").concat(e._id,"/image"),alt:e.name})),n.a.createElement("div",{className:"product-desc"},e.name,n.a.createElement("span",{className:"price"},"$ ",n.a.createElement("span",{id:"product-price-".concat(e._id)},e.discountedprice))))),n.a.createElement("div",{className:"product-price"},n.a.createElement("a",{className:"product-id"},l),n.a.createElement("button",{className:"btn-cart",name:"remove",id:e._id,onClick:y},"Remove")))})),n.a.createElement("li",{className:"product-spec"},n.a.createElement("div",{className:"product-name"},n.a.createElement("div",{className:"product-img"},"Total Price"),n.a.createElement("div",{className:"product-desc"},n.a.createElement("span",{className:"price"},"$ ",n.a.createElement("span",{id:"total-price"},l)))),n.a.createElement("div",{className:"product-price"},n.a.createElement("button",{className:"btn-cart",name:"removeall",onClick:y},"RemoveAll"))))}var U=n.a.memo((function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)(0),s=Object(i.a)(o,2),l=s[0],p=s[1],E=Object(c.useState)([]),v=Object(i.a)(E,2),h=v[0],j=v[1];return Object(c.useEffect)((function(){b("csrftoken");(function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(f,"/cart"),a={method:"get",headers:{Accept:"application/json",Authorization:"".concat(b("token"))}},e.next=5,fetch(t,a);case 5:return c=e.sent,e.next=8,c.json();case 8:(n=e.sent).products&&(r(n.categoryWithSubCategory),j(n.products),p(n.products.length)),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{categoryapi:a,cartvalue:l}),n.a.createElement("ul",{className:"breadcrumb"},n.a.createElement("li",null,n.a.createElement(d.b,{to:"/"},"Home")),n.a.createElement("li",null,"Cart")),n.a.createElement("section",{className:"main-cart"},n.a.createElement(T,{cartproducts:h,setcartvalue:p})),n.a.createElement(N,null))}));var P=n.a.memo((function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)(0),s=Object(i.a)(o,2),l=s[0],p=s[1];return Object(c.useEffect)((function(){b("csrftoken");(function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(f,"/cart"),a={method:"get",headers:{Accept:"application/json",Authorization:"".concat(b("token"))}},e.next=5,fetch(t,a);case 5:return c=e.sent,e.next=8,c.json();case 8:(n=e.sent).products&&(r(n.categoryWithSubCategory),p(n.products.length)),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{categoryapi:a,cartvalue:l}),n.a.createElement("section",{className:"main-about"},n.a.createElement("ul",{className:"breadcrumb"},n.a.createElement("li",null,n.a.createElement(d.b,{to:"/"},"Home")),n.a.createElement("li",null,"about")),n.a.createElement("p",{className:"para-about"},"This site is in develpoment and has been created by sahilpreet singh",n.a.createElement("br",null),n.a.createElement("br",null),"for business queries contact us",n.a.createElement("br",null),n.a.createElement("br",null),"Email : sahilpreetsingh9915545834@gmail.com")),n.a.createElement(N,null))}));var W=n.a.memo((function(){var e=Object(c.useState)({name:"",email:"",comment:""}),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)(!1),s=Object(i.a)(o,2),l=s[0],E=s[1],v=Object(c.useState)(""),g=Object(i.a)(v,2),h=g[0],j=g[1];Object(c.useEffect)((function(){return function(){}}),[]);var y=function(e){var t=e.target.name,a=e.target.value;r((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(p.a)({},t,a))}))},O=function(){var e=Object(m.a)(u.a.mark((function e(t){var c,n,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===a.email||""===a.name||""===a.comment){e.next=21;break}return b("csrftoken"),c="".concat(f,"/contactus"),n={name:a.name,email:a.email,comment:a.comment},o={method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Accept:"application/json"}},e.prev=6,e.next=9,fetch(c,o);case 9:return s=e.sent,e.next=12,s.json();case 12:e.sent.created?(j("Comment has been succesfully sent"),r((function(e){return{name:"",email:"",comment:""}}))):j("Comment has been not sent.Please retry!"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0);case 19:e.next=22;break;case 21:E((function(e){return!e}));case 22:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("section",{className:"main-form"},n.a.createElement("div",{className:"form-area"},"Contact Flashkart",n.a.createElement("form",{onSubmit:O,className:"form-comp"},n.a.createElement("div",{className:"field"},"Name",n.a.createElement("input",{type:"text",name:"name",autoFocus:"",className:"form-fields",required:!0,id:"id_name",onChange:y,value:a.name})),n.a.createElement("div",{className:"field"},"Email",n.a.createElement("input",{type:"Email",name:"email",autoFocus:"",className:"form-fields",required:!0,id:"id_name",onChange:y,value:a.email})),n.a.createElement("div",{className:"field"},"Comment\xa0",n.a.createElement("textarea",{name:"comment",cols:"40",rows:"10",maxLength:"2000",className:"form-fields",required:!0,id:"id_comment",value:a.comment,onChange:y})),n.a.createElement("div",{className:"btn-area"},n.a.createElement("input",{className:"btn",type:"submit",name:"Create User"}),n.a.createElement("input",{className:"btn",type:"reset",name:"Create User",onClick:function(e){r((function(e){return{name:"",email:"",comment:""}}))}}))),l&&n.a.createElement("p",{className:"error"},"Email and name is required"),h&&n.a.createElement("p",{className:"error"},h),n.a.createElement("div",{className:"links"},n.a.createElement(d.b,{to:"/"},"home"),n.a.createElement(d.b,{to:"/login_react"},"login"))))}));var z=n.a.memo((function(e){var t=Object(c.useState)("".concat(f,"/search").concat(e.location.search)),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(c.useState)(""),l=Object(i.a)(s,2),p=l[0],E=l[1],v=Object(c.useState)(0),h=Object(i.a)(v,2),j=h[0],y=h[1],O=Object(c.useState)(1),k=Object(i.a)(O,2),x=k[0],_=k[1],w=Object(c.useState)(""),S=Object(i.a)(w,2),C=S[0],q=S[1],D=Object(c.useState)(""),T=Object(i.a)(D,2),U=T[0],P=T[1],W=Object(c.useState)([]),z=Object(i.a)(W,2),J=z[0],H=z[1],R=Object(c.useState)("".concat(e.location.search)),$=Object(i.a)(R,2),B=$[0],M=$[1];return Object(c.useEffect)((function(){if(e.location.search.replace("?","")){b("csrftoken");(function(){var t=Object(m.a)(u.a.mark((function t(){var a,c,n,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r,t.prev=1,c={method:"get",headers:{Accept:"application/json",Authorization:"".concat(b("token"))}},B===e.location.search){t.next=7;break}return o("".concat(f,"/search").concat(e.location.search,"&limit=10&skip=0")),M(e.location.search),t.abrupt("return");case 7:return t.next=9,fetch(a,c);case 9:return n=t.sent,t.next=12,n.json();case 12:(s=t.sent).products&&(H(s.products),E(s.categoryWithSubCategory),_(s.pageno),P((function(t){return s.nextskip?"".concat(f,"/search").concat(e.location.search,"&limit=10&skip=").concat(s.nextskip):null})),q((function(t){return s.prevskip||0==s.prevskip?"".concat(f,"/search").concat(e.location.search,"&limit=10&skip=").concat(s.prevskip):null})),y((function(e){return s.cartvalue?s.cartvalue:e}))),t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(1),t.abrupt("return");case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(){return t.apply(this,arguments)}})()()}return function(){}}),[e.location,r]),n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{categoryapi:p,cartvalue:j}),J&&n.a.createElement("ul",{className:"breadcrumb"},n.a.createElement("li",{key:"0"},n.a.createElement(d.b,{to:"/"},"Home")),n.a.createElement("li",{key:"1"},"Search")),n.a.createElement(A,{productapi:J}),n.a.createElement(F,{prevurl:C,nexturl:U,pageno:x,clickfunc:function(e){o(e)}}),n.a.createElement(N,null))}));var J=function(){return n.a.createElement("section",{className:"main-form"},n.a.createElement("div",{className:"form-area"},"Page Not Found Go To Home",n.a.createElement("div",{className:"form-comp"},n.a.createElement("div",{className:"btn-area"},n.a.createElement("button",{className:"btn"},n.a.createElement(d.b,{className:"btn-link",to:"/"},"Home"))))))};var H=function(){var e=Object(c.useState)({name:"",category:"",subcategory:"",regularprice:"",discountedprice:"",image:null}),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)(!1),s=Object(i.a)(o,2),l=s[0],b=s[1],E=Object(c.useState)(""),v=Object(i.a)(E,2),g=v[0],h=v[1],j=Object(c.useState)(!1),y=Object(i.a)(j,2),O=y[0],N=(y[1],function(e){var t=e.target.name,a=e.target.value;if("image"===t){var c=e.target.files[0];console.log(c,c.name),r((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(p.a)({},t,c))}))}else r((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(p.a)({},t,a))}))}),k=function(){var e=Object(m.a)(u.a.mark((function e(t){var c,n,o,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c="".concat(f,"/product"),n=new FormData,Object.keys(a).forEach((function(e){console.log(e,a[e]),n.append(e,a[e])})),console.log(n),o={method:"post",body:n,headers:{Accept:"application/json"}},e.prev=6,e.next=9,fetch(c,o);case 9:return s=e.sent,e.next=12,s.json();case 12:l=e.sent,console.log(l),(l.name=a.name)&&(b((function(e){return!e})),h((function(e){return l.name})),r((function(e){return{name:"",category:"",subcategory:"",regularprice:"",discountedprice:"",image:null}}))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("section",{className:"main-form"},n.a.createElement("div",{className:"form-area"},"Flashkart Product Enter",n.a.createElement("form",{onSubmit:k,className:"form-comp"},n.a.createElement("div",{className:"field"},"Name",n.a.createElement("input",{type:"text",name:"name",autoFocus:"",className:"form-fields",required:!0,id:"id_name",onChange:N,value:a.name})),n.a.createElement("div",{className:"field"},"Category",n.a.createElement("input",{type:"text",name:"category",autoFocus:"",className:"form-fields",required:!0,id:"id_category",onChange:N,value:a.category})),n.a.createElement("div",{className:"field"},"Subcategory",n.a.createElement("input",{type:"text",name:"subcategory",autoFocus:"",className:"form-fields",required:!0,id:"id_subcategory",onChange:N,value:a.subcategory})),n.a.createElement("div",{className:"field"},"Regularprice",n.a.createElement("input",{type:"number",name:"regularprice",autoFocus:"",className:"form-fields",required:!0,id:"id_regularprice",onChange:N,value:a.regularprice})),n.a.createElement("div",{className:"field"},"Discountedprice\xa0",n.a.createElement("input",{type:"number",name:"discountedprice",autoFocus:"",className:"form-fields",required:!0,id:"id_discountedprice",onChange:N,value:a.discountedprice})),n.a.createElement("div",{className:"field"},"image",n.a.createElement("input",{type:"file",accept:"image/*",name:"image",autoFocus:"",className:"form-fields",required:!0,id:"id_image",onChange:N})),n.a.createElement("div",{className:"btn-area"},n.a.createElement("input",{className:"btn",type:"submit",name:"Create User",id:"product_submit"}),n.a.createElement("input",{className:"btn",type:"reset",name:"Create User",onClick:function(){r((function(e){return{name:"",category:"",subcategory:"",regularprice:"",discountedprice:"",image:null}}))}}))),l&&n.a.createElement("p",{className:"error"},g," successfuly entered in database."),O&&n.a.createElement("p",{className:"error"},"email already exist! Please enter other email"),n.a.createElement("div",{className:"links"},n.a.createElement(d.b,{to:"/"},"home"),n.a.createElement(d.b,{to:"/login_react"},"login"))))};var R=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(s.c,null,n.a.createElement(s.a,{exact:!0,path:"/",component:k}),n.a.createElement(s.a,{exact:!0,path:"/login_react",component:S}),n.a.createElement(s.a,{exact:!0,path:"/register_react",component:C}),n.a.createElement(s.a,{exact:!0,path:"/product_react/:id",component:x}),n.a.createElement(s.a,{exact:!0,path:"/category_react/:category_name",component:q}),n.a.createElement(s.a,{exact:!0,path:"/sub_category_react/:category_name",component:D}),n.a.createElement(s.a,{exact:!0,path:"/cart_react",component:U}),n.a.createElement(s.a,{exact:!0,path:"/about_react",component:P}),n.a.createElement(s.a,{exact:!0,path:"/contactus_react",component:W}),n.a.createElement(s.a,{exact:!0,path:"/search_react",component:z}),n.a.createElement(s.a,{exact:!0,path:"/product_enter",component:H}),n.a.createElement(s.a,{component:J})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(d.a,null,n.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.84f73cb1.chunk.js.map